# Claude Code フック設定

## 概要
Claude Codeの動作を制御するためのカスタムフック機能を設定しました。これにより、AIが勝手な解釈や不要な代替案を提示することを防ぎ、より制御されたインタラクションを実現できます。

## 設定されたファイル構成

```
.claude/
├── settings.json                           # フック機能の有効化設定
└── hooks/
    ├── hook_pre_commands.sh                # コマンド実行前チェック
    ├── hook_stop_words.sh                  # 禁止ワードチェック
    └── rules/
        ├── hook_pre_commands_rules.json    # 禁止コマンドリスト
        └── hook_stop_words_rules.json      # 禁止ワードリスト
```

## 各ファイルの機能

### `.claude/settings.json`
フック機能を有効化する設定ファイル。pre_commandとstop_wordsの両方のフックが有効になっています。

### `hook_pre_commands.sh`
Claude Codeがコマンドを実行する前に呼び出され、禁止コマンドが含まれていないかをチェックします。
- curl, wget, npm install等のネットワーク系コマンド
- sudo, rm -rf等の危険なシステムコマンド
- ssh, ftp等のリモート接続コマンド

### `hook_stop_words.sh`
Claude Codeの最終メッセージ内容をチェックし、曖昧な表現や推測的な言葉が含まれていないかを検証します。

### 禁止ワード一覧 (hook_stop_words_rules.json)
以下のような曖昧な表現をブロックします：
- はず、代わり、推測、思います
- だろう、かもしれません、おそらく
- 多分、たぶん、予想、想像
- 憶測、推定、仮定、恐らく
- でしょう、と思われます、のようです
- ような気がします、みたいです、っぽい
- らしい、という感じ、なんとなく
- なんか、一応、とりあえず、まあ、なんとか

## 効果
- AIの曖昧な回答を防止
- 不要な推測や代替案の提示を抑制
- 危険なコマンドの実行を防止
- より明確で制御されたコミュニケーションの実現

## カスタマイズ
各ルールファイル（.json）を編集することで、禁止ワードや禁止コマンドをプロジェクトに応じてカスタマイズできます。

## 参考
この設定は [Zennの記事](https://zenn.dev/sesere/articles/e3d5695e0a7d14) を参考に実装されました。